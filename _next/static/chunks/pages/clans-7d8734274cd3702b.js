(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[375],{2693:(e,n,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/clans",function(){return t(7888)}])},9250:(e,n,t)=>{"use strict";t.d(n,{A:()=>g});var r=t(4848),a=t(4684),i=t(4164),s=t(2483),o=t(6540),l=t(4247),u=t(3439),c=t(121),d=t.n(c);let m=Math.min,p={before:{opacity:[1,0],y:[0,20]},after:{opacity:[0,1],y:[20,0],transition:{ease:a.lu,duration:1.6}}};function g(e){let{children:n,element:t="p",className:a,delay:c=.2,staggerDelay:m=.08,initial:g="before",splitBy:f="words",play:h,...v}=e,[x,y]=(0,l.l)(),b=(0,o.useRef)(null),w={types:"words"===f?"words,lines":"lines"},_="words"===f?".line .word":".line";return(0,o.useEffect)(()=>{if(!x.current||!b.current)return;let e=s.A.create(b.current,w),n=!0,t=new ResizeObserver(function(e,n,t){let r,a,i,s,o,l,u=0;if("function"!=typeof e)throw TypeError("Expected a function");function c(n){let t=r,i=a;return r=a=void 0,u=n,t&&(s=e.apply(i,t)),s}function d(e){let t=e-(l??0),r=e-u;return void 0===l||!!(t>=n)||!!(t<0)}function m(){let e,t,r;let a=Date.now();if(d(a))return p(a);o=setTimeout(m,(e=a-(l??0),t=a-u,r=n-e,r))}function p(e){return(o=void 0,r)?c(e):(r=a=void 0,s)}function g(...e){let t=Date.now(),i=d(t);if(r=e,a=this,l=t,i){if(void 0===o){var c;return u=c=l,o=setTimeout(m,n),s}}return void 0===o&&(o=setTimeout(m,n)),s}return n=Number(n)||0,g.cancel=function(){void 0!==o&&clearTimeout(o),u=0,r=l=a=o=void 0},g.flush=function(){return void 0===o?s:p(Date.now())},g}(()=>{if(n){n=!1;return}e.split(w)},100));return t.observe(x.current),y(x.current,{opacity:1},{duration:0}),y(_,p[g],{duration:0}),()=>{t.disconnect()}},[y,g,x,f,m]),(0,o.useEffect)(()=>{h&&y(_,p.after,{delay:(0,u.y)(m,{startDelay:c}),...p.after.transition})},[h]),(0,r.jsxs)(t,{className:(0,i.A)(d().SplitText,a,d()[g]),ref:x,...v,children:[(0,r.jsx)("span",{"data-nosnippet":!0,className:d().textContainer,ref:b,children:n}),(0,r.jsx)("span",{className:"visually-hidden",children:n})]})}},7888:(e,n,t)=>{"use strict";t.r(n),t.d(n,{__N_SSG:()=>el,default:()=>eu});var r=t(4848),a=t(4413),i=t(2428),s=t(547),o=t.n(s),l=t(4164),u=t(6540),c=t(9978),d=t(2445),m=t(4922),p=t(1323);let g=(0,p.v)(()=>({rotation:0,index:0,isBig:!1}));var f=t(3502),h=t(9946),v=t(9530);function x(e){let n=(0,u.useRef)(null);return(0,u.useEffect)(()=>{if(!n.current)return;let e=(0,f.i)(n.current,{opacity:[0,1]},{duration:.6,delay:.3,ease:"easeInOut"});e.pause();let t=et.subscribe(n=>{n&&e.play()});return et.getState()&&(e.play(),t()),()=>{e?.cancel(),t()}},[]),(0,r.jsx)("div",{className:(0,l.A)(o().ClanBackground),ref:n,style:{opacity:0},children:(0,r.jsx)(i.Hl,{orthographic:!0,camera:{left:-.5,right:.5,top:.5,bottom:-.5},children:(0,r.jsx)(y,{})})})}function y(){let{store:e,state:n}=(0,c.F)(),[t,a]=(0,u.useState)(!1),i=(0,u.useRef)(null),s=(0,d.zo)("/images/noise/flower-noise.png"),o=(0,u.useRef)(0),l=(0,u.useRef)(!1),p=(0,u.useRef)({x:!1,y:!1}),x=(0,u.useRef)(null),y=(0,u.useRef)(null),b=(0,v.UR)()?"avif":"webp",w=(0,d.zo)([`/images/clans/backgrounds/Roman_Britons.${b}`,`/images/clans/backgrounds/Cymry_of_Caer_Dyvi.${b}`,`/images/clans/backgrounds/Missionaries_from_Gaul.${b}`,`/images/clans/backgrounds/Belgae.${b}`,`/images/clans/backgrounds/Saecsens.${b}`,`/images/clans/backgrounds/Orcadians.${b}`,`/images/clans/backgrounds/Atlanteans_of_Avallach.${b}`,`/images/clans/backgrounds/Cornovii.${b}`,`/images/clans/backgrounds/Hill_Folk.${b}`,`/images/clans/backgrounds/Atlanteans_of_Goddeu.${b}`,`/images/clans/backgrounds/Britons_of_Dyfed.${b}`,`/images/clans/backgrounds/Cymry_of_Maridunum.${b}`],()=>{a(!0)}),_=(0,u.useMemo)(()=>t?w.map(e=>({map:e,image:e.image,size:new m.I9Y,zoom:1})):[],[t]),C=(0,u.useMemo)(()=>{let e=g.getState().index;return _.length?{uCurrent:new m.nc$(_[e].map),uCurrentSize:new m.nc$(_[e].size),uNext:new m.nc$(_[0].map),uNextSize:new m.nc$(_[0].size),uProgress:new m.nc$(0),uNoise:new m.nc$(s),uZoomCurrent:new m.nc$(1),uZoomNext:new m.nc$(1)}:{}},[s,_]);return(0,u.useEffect)(()=>{if(!_.length)return;let t=e?.subscribe(r);function r(e){_.forEach(e=>{let{image:n,size:t}=e,[r,a]=function(e){let n,t;let r=e.width/e.height,a=window.innerWidth/window.innerHeight;return r>a?(n=r/a,t=1):r<a?(n=1,t=a/r):(n=1,t=1),[n,t]}(n);t.set(r,a)})}return r(n),t},[_]),(0,u.useEffect)(()=>{x.current=(0,f.i)(1,1.5,{onUpdate:e=>{C.uZoomCurrent&&(C.uZoomCurrent.value=e)},duration:40,ease:"linear"});let e=g.subscribe(({index:e},n)=>{let t=e%_.length;function r(){if(!C.uCurrent)return;y.current?.cancel(),p.current.y=!1;let e=C.uCurrent;C.uCurrent=C.uNext,C.uNext=e,C.uProgress.value=0,i.current=null,l.current=!1}i.current&&(i.current.cancel(),r()),C.uNext&&(o.current=t,C.uNext.value=_[o.current].map,C.uCurrent.value.image.src!==C.uNext.value.image.src&&(i.current=(0,f.i)(0,1,{onUpdate:e=>{C.uProgress.value=e,e>.6&&!p.current.y&&(p.current.y=!0,y.current=(0,f.i)(1,1.5,{onUpdate:e=>{C.uZoomNext.value=e},duration:40,ease:"linear"}),x.current=(0,f.i)(1,1.5,{onUpdate:e=>{C.uZoomCurrent.value=e},duration:40,ease:"linear"}))},onComplete:r,duration:1,ease:"easeInOut"})))});return()=>{i.current&&i.current?.cancel(),x.current&&x.current?.cancel(),y.current&&y.current?.cancel(),e()}},[C,_]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("mesh",{children:[(0,r.jsx)("planeGeometry",{args:[1,1]}),(0,r.jsx)("shaderMaterial",{vertexShader:"#define GLSLIFY 1\nuniform vec2 uCurrentSize;\nuniform vec2 uNextSize;\nuniform float uZoomCurrent;\nuniform float uZoomNext;\n\nvarying vec2 vUv;\nvarying vec2 vCurrentUv;\nvarying vec2 vNextUv;\n\nvec2 imagePosition = vec2(0.0, 0.0);\n\nvec2 scaleUv(in vec2 uv, vec2 sizes, float zoom) {\n  return imagePosition + .5 + (uv - .5) / sizes / zoom;\n}\n\nvoid main() {\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n  vUv = uv;\n\n  vCurrentUv = scaleUv(uv, uCurrentSize, uZoomCurrent);\n  vNextUv = scaleUv(uv, uNextSize, uZoomNext);\n}",fragmentShader:"#define GLSLIFY 1\nuniform sampler2D uCurrent;\nuniform sampler2D uNext;\nuniform sampler2D uNoise;\nuniform float uProgress;\n\nvarying vec2 vUv;\nvarying vec2 vCurrentUv;\nvarying vec2 vNextUv;\n\nfloat brightnessValue = 1.0;//0.22;\n\nvec4 brightness(in vec4 texture, in float brightness) {\n  return texture * brightness;\n}\n\nvec4 sampleTexture(in sampler2D sampler, in vec2 uv) {\n  vec4 t = texture2D(sampler, uv);\n  t = brightness(t, brightnessValue);\n  return t;\n}\n\nvoid main() {\n  vec4 noise = texture2D(uNoise, vUv);\n\n  vec4 t1 = sampleTexture(uCurrent, vCurrentUv);\n  vec4 t2 = sampleTexture(uNext, vNextUv);\n\n  float borderIn = smoothstep(0.0, 0.1, uProgress);\n  float border = 0.22 * borderIn;\n\n  float dissolver = 1.0 - smoothstep(uProgress, uProgress + border, noise.r);\n  vec4 final = mix(t1, t2, dissolver);\n\n  gl_FragColor = final;\n}",uniforms:C})]}),(0,r.jsx)(h._,{})]})}function b(e){let{index:n,radius:t,angle:a}=e,i=new m.Pq0(Math.cos(a)*t,Math.sin(a)*t,0),s=2*Math.PI/D;return(0,r.jsx)("mesh",{onClick:()=>{g.setState(e=>{let[t,r]=function(e,n,t){let r=Math.abs(t-n),a=t>n?1:-1,i=e.length-r;return i<=r&&(r=i,a*=-1),[r,a]}(Array.from({length:D}),e.index,n);return e.index=n,e.rotation+=t*s*r,{...e}})},rotation:[0,0,a+Math.PI/2],position:i,scale:.12,visible:!1,children:(0,r.jsx)("planeGeometry",{})},`click-${a}-${n}`)}var w=t(7039),_=t(3668),C=t(4684),j=t(2111),M=t(1537),k=t(1671),S=t(9613),A=t(8823);let N=new m.Q1f("#9c8e8e"),R=()=>{let e=(0,u.useRef)(null),n=(0,u.useRef)(null),t=(0,u.useRef)(null),a=(0,u.useRef)(null),i=(0,u.useRef)(null),s=(0,u.useRef)(null),o=(0,u.useRef)(null),l=(0,u.useRef)(0),{store:m}=(0,c.F)(),{}=function(e){let n=(0,u.useRef)({x:0,y:0}),t=(0,u.useRef)({x:0,y:0}),r=(0,u.useRef)(!1);return(0,u.useEffect)(()=>{function t(e){r.current=!0;let{clientX:t,clientY:a}=e.touches[0];n.current={x:t,y:a}}function a(){r.current=!1}function i(t){if(!r)return;let{clientX:a,clientY:i}=t.touches[0],s=a-n.current.x,o=i-n.current.y;e?.({x:s,y:o}),n.current.x=a,n.current.y=i}return window.addEventListener("touchstart",t),window.addEventListener("touchend",a),window.addEventListener("touchmove",i),()=>{window.removeEventListener("touchstart",t),window.removeEventListener("touchend",a),window.removeEventListener("touchmove",i)}},[]),{coords:t}}(({x:e})=>{g.setState(n=>(n.rotation-=.4*e/100,n))}),p=(0,u.useRef)(!1),[h,v,x,y]=(0,d.zo)(["/images/clan_wheel/gold_wheel.webp","/images/clan_wheel/gold_wheel_alpha.webp","/images/clan_wheel/gold_wheel_normal.webp","/images/arrow.png"]),R=(0,S.A)(_.$.laptop.max,!1),z=R?7.5:8.5,P=2*Math.PI/D,U=Array.from({length:D},(e,n)=>({angle:P*n,fraction:P,index:n}));return(0,u.useEffect)(()=>{let e=(0,f.i)(0,1,{ease:C.e2,duration:3.6,onUpdate:e=>{i.current&&a.current&&(a.current.rotation.z=(0,M.p)(e,[0,1],[.75*Math.PI,0]),i.current.opacity=e,s.current&&(s.current.opacity=e))},delay:1});e.pause();let n=et.getState(),t=et.subscribe(n=>{n&&e.play()});return n&&(e.play(),t()),()=>{e?.cancel(),t()}},[]),(0,u.useEffect)(()=>{let e;let t=m?.getState(),r={vmin:0,width:0,height:0};function a(){if(!t)return;let{width:e,height:a}=t.viewport.getCurrentViewport(),i=Math.min(e,a-(1+(window.matchMedia(_.$.laptop.max)?.6:.55)));if(!n.current)return;let s=g.getState().isBig;if(r={vmin:i,width:e,height:a},s){let t=(0,A.qE)(e,z,12),r=-a/2-t/2*.4;n.current.scale.set(t,t,1),n.current.position.set(0,r,0)}else{let e=(0,A.qE)(i,1,20);n.current.scale.set(e,e,1),n.current.position.set(0,0,0)}}let i=g.subscribe((e,t)=>{if(e.isBig!==t.isBig){if(o.current&&o.current?.stop(),e.isBig){if(!n.current)return;let e=(0,A.qE)(r.width,z,12),t=-r.height/2-e/2*.4,a=n.current.scale.x,i=n.current.scale.x,s=n.current.position.y;o.current=(0,f.i)(0,1,{onUpdate:r=>{n.current&&(n.current.scale.x=(0,A.Cc)(a,e,r),n.current.scale.y=(0,A.Cc)(i,e,r),n.current.position.y=(0,A.Cc)(s,t,r))},ease:C.lu,duration:.8})}else{if(!n.current)return;let e=(0,A.qE)(.75*r.vmin,1,20),t=n.current.scale.x,a=n.current.scale.x,i=n.current.position.y;o.current=(0,f.i)(0,1,{onUpdate:r=>{n.current&&(n.current.scale.x=(0,A.Cc)(t,e,r),n.current.scale.y=(0,A.Cc)(a,e,r),n.current.position.y=(0,A.Cc)(i,0,r))},ease:C.lu,duration:.8})}}});window.addEventListener("resize",a),a();let{Lenis:s}=w.s.getState();function l(t){0!==t.deltaY&&(p.current=!0,R||g.setState(e=>(e.rotation+=t.deltaY/1e3,e)),e&&clearTimeout(e),e=setTimeout(()=>{if(!n.current)return;p.current=!1;let e=g.getState().rotation,t=Math.round(e/P)%U.length,r=U[(0,k.L)(0,U.length,t)],a=Math.round(e/P),i=P*a;g.setState(e=>(e.index=r.index,e.rotation=i,{...e}))},300))}return s?.on("virtual-scroll",l),()=>{s?.off("virtual-scroll",l),i(),o.current?.stop(),window.removeEventListener("resize",a)}},[R]),(0,j.C)(({},e)=>{let{rotation:r}=g.getState();if(n.current&&t.current){if(p.current)l.current=(0,A.Cc)(l.current,r,12*e);else{let n=(r%(2*Math.PI)+2*Math.PI)%(2*Math.PI)-(l.current%(2*Math.PI)+2*Math.PI)%(2*Math.PI);n>Math.PI&&(n-=2*Math.PI),n<-Math.PI&&(n+=2*Math.PI);let t=Math.abs(n)/(Math.PI/6);l.current=(0,A.Cc)(l.current,r,15*(1-t/6*.95)*e/3)}t.current.rotation.z=l.current+Math.PI/2}}),(0,r.jsx)("group",{rotation:[0,0,0],children:(0,r.jsxs)("group",{ref:n,children:[(0,r.jsxs)("mesh",{scale:R?.11:.068,position:[0,R?.6:.55,0],children:[(0,r.jsx)("planeGeometry",{args:[1,1]}),(0,r.jsx)("meshBasicMaterial",{ref:s,opacity:0,color:N,transparent:!0,map:y,alphaMap:y})]}),(0,r.jsx)("group",{ref:a,children:(0,r.jsxs)("group",{ref:t,children:[(0,r.jsxs)("mesh",{ref:e,position:[0,0,0],children:[(0,r.jsx)("planeGeometry",{}),(0,r.jsx)("meshStandardMaterial",{ref:i,transparent:!0,opacity:0,map:h,alphaMap:v,normalMap:x})]}),U.map(({angle:e,index:n})=>{let t=2*Math.PI-e;return(0,r.jsx)(b,{index:n,radius:.42,angle:t},`${e}-${n}`)})]})})]})})};var z=t(5678),P=t(3771);let U=e=>{let{clans:n}=e,t=n[g(e=>e.index)],a=Object.entries(z.P).find(([e])=>t.id===e)?.[1].sigil;return Object.values(z.P).map(({sigil:e})=>(0,r.jsx)(E,{sigil:e,active:e===a},`flag-${e}`))},E=({sigil:e,active:n})=>{let t=(0,u.useRef)(null),a=(0,v.UR)()?"avif":"webp",i=e.split(".")[0],s=(0,u.useRef)({delay:0,duration:.4}),[o,l,c,p]=(0,d.zo)(["/images/noise/solid-noise-tilable.png",`/images/sigils/${i}.${a}`,`/images/sigils/flag-alpha.${a}`,"/images/noise/flower-noise.png"],e=>{e[0].wrapS=m.GJx,e[0].wrapT=m.GJx}),g=(0,u.useMemo)(()=>({uMap:{value:l},uAlphaMap:{value:c},uNoise:{value:o},uDissolveMap:{value:p},uTime:{value:0},uOpacity:{value:0}}),[c,l,o,p]);(0,j.C)(({clock:e})=>{let n=e.getElapsedTime();g.uTime.value=n});let h={out:1.4,in:1};return(0,u.useEffect)(()=>{let e,r;if(t.current)return n?e=(0,f.i)(0,1,{duration:h.in+s.current.duration,delay:s.current.delay+.8*h.out,ease:P.vT,onPlay(){t.current&&(t.current.visible=!0,s.current.delay=0)},onUpdate(e){t.current&&(g.uOpacity.value=e)}}):0!==g.uOpacity.value&&(s.current.delay=0,r=(0,f.i)(1,0,{duration:h.out,ease:P.vT,onUpdate(e){t.current&&(g.uOpacity.value=e)},onComplete(){t.current&&(t.current.visible=!1)}})),()=>{e?.stop(),r?.stop()}},[n,g.uOpacity]),(0,r.jsxs)("mesh",{ref:t,scale:.58,position:[0,-.03,0],visible:!1,children:[(0,r.jsx)("planeGeometry",{args:[1,1,100,100]}),(0,r.jsx)("shaderMaterial",{vertexShader:"precision mediump float;\n#define GLSLIFY 1\nvarying vec2 vUv;\n\nuniform float uTime;\nuniform float uOpacity;\nuniform sampler2D uNoise;\n\nfloat map(float value, float min1, float max1, float min2, float max2) {\n    return min2 + (value - min1) * (max2 - min2) / (max1 - min1);\n}\n\nvec2 rotate2D(vec2 _uv, float _angle) {\n    _uv -= 0.5;\n    _uv = mat2(cos(_angle), -sin(_angle), sin(_angle), cos(_angle)) * _uv;\n    _uv += 0.5;\n    return _uv;\n}\n\nvoid main() {\n    float time = uTime * 0.5;\n    vec2 newUv = vec2(uv);\n    float x = texture2D(uNoise, vec2(newUv.x, newUv.y + time)).r;\n    float y = max(0.0, 1.0 - map(pow(newUv.y, 2.0), 0.2, .6, 0.0, 1.0));\n\n    vec2 rotatedUV = rotate2D(uv, -0.45);\n    float sinWindStrength = 1.0 - pow(rotatedUV.y, 0.5);\n    float stripe = sin(rotatedUV.y * 20. + uTime * 5.) * 0.5 + 0.5;\n    stripe *= sinWindStrength * 0.4;\n\n    vec3 pos = vec3(position);\n\n    float up = x * 1.2;\n    up = y * up * uOpacity;\n\n    float strength = 0.6;\n    pos.z += (up + stripe) * strength;\n\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);\n    vUv = uv;\n}",fragmentShader:"precision mediump float;\n#define GLSLIFY 1\n\nuniform sampler2D uMap;\nuniform sampler2D uAlphaMap;\nuniform float uOpacity;\nuniform float uDissolve;\nuniform sampler2D uDissolveMap;\n\nvarying vec2 vUv;\n\nvoid main() {\n    vec4 color = texture2D(uMap, vUv);\n    vec4 alphaColor = texture2D(uAlphaMap, vUv);\n    vec4 noiseMap = texture2D(uDissolveMap, vUv);\n\n    float dissolveStep = 0.08;\n    float dissolveValue = uOpacity;\n\n    float threshold = smoothstep(noiseMap.x - dissolveStep, noiseMap.x, dissolveValue);\n\n    gl_FragColor = color;\n    gl_FragColor.a = alphaColor.b;\n\n    gl_FragColor.a *= threshold;\n}",transparent:!0,uniforms:g,depthWrite:!1})]})},T=e=>{let{clans:n}=e,t=(0,u.useRef)(null),a=(0,u.useRef)(null),i=(0,v.UR)()?"avif":"webp",[s,o]=(0,d.zo)([`/images/sigils/flag-pole-resized.${i}`,`/images/sigils/flag-pole-resized-alpha.${i}`]),{store:l}=(0,c.F)(),m=(0,S.A)(_.$.laptop.max,!1)?7.5:8.5;return(0,u.useEffect)(()=>{let e=l?.getState();function n(){if(!e)return;let{width:n,height:r}=e.viewport.getCurrentViewport(),a=Math.min(n,r-1.55);if(t.current){if(g.getState().isBig){let e=(0,A.qE)(n,m,12),a=-r/2-e/2*.4;t.current.scale.set(e,e,1),t.current.position.set(0,a,0)}else{let e=(0,A.qE)(a,1,20);t.current.scale.set(e,e,1),t.current.position.set(0,0,0)}}}return window.addEventListener("resize",n),n(),()=>{window.removeEventListener("resize",n)}},[]),(0,u.useEffect)(()=>{let e=(0,f.i)(0,1,{ease:C.lu,duration:1.6,delay:1,onUpdate:e=>{a.current&&(a.current.opacity=e)}});e.pause();let n=et.subscribe(n=>{n&&e.play()});return et.getState()&&(e.play(),n()),()=>{n(),e?.cancel()}},[]),(0,r.jsxs)("group",{ref:t,children:[(0,r.jsxs)("mesh",{position:[0,-.07,-.01],scale:.83,children:[(0,r.jsx)("planeGeometry",{args:[1,1]}),(0,r.jsx)("meshBasicMaterial",{ref:a,opacity:0,map:s,alphaMap:o,transparent:!0})]}),(0,r.jsx)(U,{clans:n})]})},D=12;function $(e){let{clans:n}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("ambientLight",{intensity:1.8}),(0,r.jsx)(R,{}),(0,r.jsx)(T,{clans:n})]})}var W=t(8343),I=t(637),L=t(1733),B=t.n(L);function F(e){let{clans:n}=e,t=n[g(e=>e.index)],a=Object.entries(z.P).find(([e],n)=>t.id===e)?.[1].sigil;return(0,r.jsx)("div",{className:(0,l.A)(B().ClanWheelFlag),children:Object.values(z.P).map(({sigil:e,ring:n})=>(0,r.jsx)(u.Fragment,{children:(0,r.jsx)(G,{active:e===a,ring:n})},e))})}function G(e){let{ring:n,active:t}=e,a=et();return(0,r.jsx)(W.P.div,{initial:{x:"-50%",opacity:0},animate:a&&t?"visible":"hidden",variants:{visible:{opacity:1,y:0,x:"-50%",scale:1,transition:{duration:1.4,delay:1,ease:C.lu}},hidden:{scale:.95,opacity:0,y:40,x:"-50%",transition:{duration:1.4,ease:C.lu}}},className:B().ring,children:(0,r.jsx)(I.A,{src:`/images/rings/${n}`,alt:"",width:800,height:800})})}var O=t(7819),q=t.n(O),V=t(6297),H=t(7938),Z=t(6520),Q=t(1897);let J=e=>{let{clans:n}=e,t=g(e=>e.index),a=et(),i=(0,u.useRef)({delay:3.8,duration:1});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(V.N,{mode:"sync",children:a&&(0,u.createElement)(W.P.div,{className:q()["summary-wrapper"],...ei,onAnimationStart:()=>{i.current.delay=1,i.current.duration=2.6},variants:{...ea,visible:{...ea.visible,transition:{delay:i.current.delay,duration:i.current.duration}}},key:`clan-summary-${t}`},(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(W.P.p,{className:(0,l.A)(q().summaryText,"ff-p-16"),variants:H.AA,children:n[t].shortSummary}),(0,r.jsx)(W.P.div,{variants:H.AA,className:q()["button-container-desktop"],children:(0,r.jsx)(Q.U,{right:!0,href:Z.a.CLANS+"/"+n[t].slug,children:"The Characters"})})]}))}),(0,r.jsxs)("div",{className:q()["button-container-mobile"],children:[(0,r.jsx)(Q.U,{href:Z.a.MAP,children:"The Map"}),(0,r.jsx)(Q.U,{right:!0,href:Z.a.CHARACTERS,children:"The Characters"})]})]})};var Y=t(9250);let X=e=>{let{clans:n}=e,t=g(e=>e.index),a=et(),i=(0,u.useRef)(3.5);return(0,r.jsx)(V.N,{mode:"sync",children:a&&(0,r.jsx)(W.P.div,{className:q()["title-wrapper"],...ei,onAnimationStart:()=>{i.current=1},children:(0,r.jsxs)(W.P.div,{variants:H.AA,custom:"left",children:[(0,r.jsx)(Y.A,{element:"h1",play:!0,delay:i.current,children:n[t].name}),n[t]?.quote?(0,r.jsx)(Y.A,{element:"p",play:!0,delay:i.current+.3,className:q().quote,children:n[t].quote?.title?.replaceAll("*","").trim()}):null]})},`clan-${t}`)})};var K=t(4770);let ee=e=>{let{clans:n}=e,t=g(e=>e.index);return(0,r.jsx)("button",{className:q().overlayButton,"data-cursor-hover-state":"blue",onClick:e=>{e.target.setAttribute("disabled","true");let t=g.getState().index;K.w.setState({triggerTransition:`/clans/${n[t].slug}`})},children:(0,r.jsxs)("span",{className:"visually-hidden",children:["Enter the ",n[t].name," clan"]})})};var en=t(7443);let et=(0,p.v)(()=>!1);function er(e){let{clans:n}=e,t=(0,u.useRef)(null),{progress:a}=(0,en.p)();return(0,u.useEffect)(()=>{100===a&&et.setState(!0)},[a]),(0,u.useEffect)(()=>{let e=new ResizeObserver(([e])=>{let n=Math.min(e.contentRect.width,e.contentRect.height-140)/100;e.target.style.setProperty("--qmin",n.toString()+"px")});return t.current&&e.observe(t.current),()=>{e.disconnect()}},[]),(0,r.jsxs)("article",{className:(0,l.A)(q().ClanWheelContent,"grid"),children:[(0,r.jsx)(x,{}),(0,r.jsx)(X,{clans:n}),(0,r.jsxs)("div",{className:q()["clan-wheel"],ref:t,children:[(0,r.jsx)(F,{clans:n}),(0,r.jsx)(i.Hl,{children:(0,r.jsx)($,{clans:n})}),(0,r.jsx)(ee,{clans:n})]}),(0,r.jsx)(J,{clans:n})]})}let ea={hidden:{opacity:0},visible:{opacity:1,transition:{duration:2.6,ease:C.lu}},exit:{opacity:0,transition:{duration:2.6,ease:C.lu}}},ei={initial:"hidden",animate:"visible",exit:"exit",variants:ea};var es=t(1426),eo=t(1290),el=!0;function eu(e){let{data:n}=e,t=(0,S.A)(_.$.laptop.max,!1);return(0,eo.g)({bottomless:t,sideless:!0}),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.A,{currentUrl:`${Z.a.CLANS}`,pageTitle:"CLANS | The Pendragon cycle - Rise of the Merlin",pageDescription:"Discover the clans and families of The Pendragon cycle - Rise of the Merlin"}),(0,r.jsx)(es.J,{leftMenuButton:"MAP",data:e.navigation}),(0,r.jsx)(er,{clans:n.allFamilyClans})]})}},5678:(e,n,t)=>{"use strict";t.d(n,{P:()=>a,k:()=>r});let r=(0,t(1323).v)((e,n)=>({hoveringCharacter:null,hoveringClan:null})),a={fczwjM7pSDWkVlUjFIhgGQ:{ring:"caer_dyvi.webp",name:"Cymry of Caer Dyvi",sigil:"cymr_of_caer_dyvi.webp",frame:"cymry.webp",positions:{x:0,y:0},background:{image:"/images/clans/backgrounds/Cymry_of_Caer_Dyvi.jpg",offset:[150,-100],size:[600,600]},width:800,height:500},d2H6BJWoQzqOSpWBHQM12A:{ring:"avallach.webp",name:"Atlantean",sigil:"atlantean_of_avallach.webp",frame:"atlantean_goddeu.webp",positions:{x:1e3,y:0},background:{image:"/images/clans/backgrounds/Atlanteans_of_Goddeu.jpg",offset:[50,0],size:[500,500]},width:500,height:400},KlqUo7fbTWWctYSGZcSxwA:{ring:"roman_briton.webp",name:"The Roman Britons",sigil:"roman_britons.webp",frame:"briton_roman.webp",positions:{x:1700,y:500},background:{image:"/images/clans/backgrounds/Roman_Britons.jpg",offset:[0,0],size:[400,400]},width:400,height:450},"AGYoJnc9QESf_17a5CP-Jg":{ring:"atlantean.webp",name:"Atlantean: Goddeu",sigil:"atlantean_of_goddeu.webp",frame:"atlantean_goddeu.webp",positions:{x:700,y:550},background:{image:"/images/clans/backgrounds/Atlanteans_of_Goddeu.jpg",offset:[150,-50],size:[600,600]},width:800,height:450},Mz2WVJHeRaaq54aDXAiUrQ:{ring:"saecsens.webp",name:"Saecsens",sigil:"saecsens.webp",frame:"saecsens.webp",positions:{x:100,y:600},background:{image:"/images/clans/backgrounds/Saecsens.jpg",offset:[-100,-200],size:[600,600]},width:400,height:250},R5To2kYHRReAForya1sthw:{ring:"belgae.webp",name:"Belgae",sigil:"belgae.webp",frame:"belgae.webp",positions:{x:2300,y:0},background:{image:"/images/clans/backgrounds/Belgae.jpg",offset:[-150,-125],size:[500,500]},width:200,height:250},XBsQnbHgRkSWQx4JczJAIA:{ring:"cymry.webp",name:"The Cymry of Maridunum",sigil:"cymr_of_maridunum.webp",frame:"cymry.webp",positions:{x:2550,y:0},background:{image:"/images/clans/backgrounds/Cymry_of_Maridunum.jpg",offset:[0,100],size:[400,400]},width:400,height:650},DT58TyMzRvaz6xjVJiMBMQ:{ring:"briton.webp",name:"Britons of Dyfed (Vortigern)",sigil:"britons.webp",frame:"briton.webp",positions:{x:1800,y:0},background:{image:"/images/clans/backgrounds/Britons_of_Dyfed.jpg",offset:[-100,0],size:[400,400]},width:200,height:450},FbxZirW5Qrmvxa0PZXhDqg:{ring:"hill_folk.webp",name:"Hill Folk",sigil:"hill_folk.webp",frame:"hill_folk.webp",positions:{x:2600,y:700},background:{image:"/images/clans/backgrounds/Hill_Folk.jpg",offset:[-25,0],size:[250,250]},width:200,height:250},XzHrwbVGShilCuDfhVhTUw:{ring:"gaul.webp",name:"Missionaries from Gaul",sigil:"missionaries_from_gaul.webp",frame:"cymry.webp",positions:{x:2050,y:800},background:{image:"/images/clans/backgrounds/Missionaries_from_Gaul.jpg",offset:[20,-80],size:[400,400]},width:500,height:250},CHr2R5LtSDOUZafor6LH7g:{ring:"orcadians.webp",name:"Orcadian",sigil:"orcadian.webp",frame:"orcadian.webp",positions:{x:1300,y:200},background:{image:"/images/clans/backgrounds/Orcadians.jpg",offset:[75,75],size:[400,400]},width:400,height:450},WDjjAI8LQx2Pcki0_dS9CA:{ring:"cornovii.webp",name:"Cornovii",sigil:"cornovii.webp",frame:"cornovii.webp",positions:{x:2300,y:300},background:{image:"/images/clans/backgrounds/Cornovii.jpg",offset:[-100,0],size:[400,400]},width:200,height:400}}},547:e=>{e.exports={ClanBackground:"ClanBackground_ClanBackground__G3Hps"}},7819:e=>{e.exports={ClanWheelContent:"ClanWheelContent_ClanWheelContent__h1IsA",background:"ClanWheelContent_background__Z_Xb1","title-wrapper":"ClanWheelContent_title-wrapper__DrwZ_",quote:"ClanWheelContent_quote__6s94b","clan-wheel":"ClanWheelContent_clan-wheel__dkT1W","summary-wrapper":"ClanWheelContent_summary-wrapper__9M0iG",summaryText:"ClanWheelContent_summaryText__6QIpy","button-container-mobile":"ClanWheelContent_button-container-mobile__MhqX5","button-container-desktop":"ClanWheelContent_button-container-desktop__zAG_5",overlayButton:"ClanWheelContent_overlayButton__mhEn6"}},1733:e=>{e.exports={ClanWheelFlag:"ClanWheelFlag_ClanWheelFlag__LgXBO",ring:"ClanWheelFlag_ring__DDe8z",ringRotate:"ClanWheelFlag_ringRotate__0tjIc"}},121:e=>{e.exports={SplitText:"SplitText_SplitText__tOyyR",textContainer:"SplitText_textContainer__nztEN"}},8852:(e,n,t)=>{"use strict";t.d(n,{o:()=>m});var r=t(4848),a=t(6540),i=t(9473);let s=(0,a.createContext)(null);var o=t(5128),l=t(104);let u=e=>!e.isLayoutDirty&&e.willUpdate(!1),c=e=>!0===e,d=e=>c(!0===e)||"id"===e,m=({children:e,id:n,inherit:t=!0})=>{let m=(0,a.useContext)(i.L),p=(0,a.useContext)(s),[g,f]=function(){let e=function(){let e=(0,a.useRef)(!1);return(0,o.E)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}(),[n,t]=(0,a.useState)(0),r=(0,a.useCallback)(()=>{e.current&&t(n+1)},[n]);return[(0,a.useCallback)(()=>l.Gt.postRender(r),[r]),n]}(),h=(0,a.useRef)(null),v=m.id||p;null===h.current&&(d(t)&&v&&(n=n?v+"-"+n:v),h.current={id:n,group:c(t)&&m.group||function(){let e=new Set,n=new WeakMap,t=()=>e.forEach(u);return{add:r=>{e.add(r),n.set(r,r.addEventListener("willUpdate",t))},remove:r=>{e.delete(r);let a=n.get(r);a&&(a(),n.delete(r)),t()},dirty:t}}()});let x=(0,a.useMemo)(()=>({...h.current,forceRender:g}),[f]);return(0,r.jsx)(i.L.Provider,{value:x,children:e})}},1537:(e,n,t)=>{"use strict";t.d(n,{p:()=>s});var r=t(8844);let a=e=>e&&"object"==typeof e&&e.mix,i=e=>a(e)?e.mix:void 0;function s(...e){let n=!Array.isArray(e[0]),t=n?0:-1,a=e[0+t],o=e[1+t],l=e[2+t],u=e[3+t],c=(0,r.G)(o,l,{mixer:i(l[0]),...u});return n?c(a):c}}},e=>{var n=n=>e(e.s=n);e.O(0,[52,573,951,153,636,593,792],()=>n(2693)),_N_E=e.O()}]);